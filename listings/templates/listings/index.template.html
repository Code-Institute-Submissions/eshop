{% extends 'base.template.html' %}
{% load cloudinary %}
{%load static %}
{% load mathfilters %}
{% load crispy_forms_tags %}

{%block content%}

<h3 class="mt-3 mb-3">Search listings</h3>

           <form method="GET">
    {{search_form|crispy}}
    <input type="submit" class="btn btn-primary btn-block mt-3 mb-3" value="Search"/>
    </form>


<p>
        Search results:
    </p>

<div class ="col d-flex justify-content-center">
<div class="card-deck">
{% for list in listings %}
<div class="card mt-4" style="min-width: 18rem; max-width: 20rem;">
  <!-- <img class="card-img-top" alt="Card image cap"> -->
  <p></p>
  <div class="text-center">
   {% cloudinary list.cover width=275 height=275 gravity="faces" crop="fill" %} 
  </div>
  <div class="card-body text-center">
    <h5 class="card-title">{{list.title}}</h5>
    <p>Price: ${{list.price|div:100|floatformat:2}}</p>
    <a href="{% url 'view_listing_details' listing_id=list.id %}" class="btn btn-success">View Details</a>
    <a href="{% url 'add_to_cart' listing_id=list.id %}" class="btn btn-warning">Add To Cart</a>
  </div>
</div>
    {% endfor %}
</div>
</div>

{%endblock%}